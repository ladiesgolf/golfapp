
<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta http-equiv="refresh" content="3500">
      <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
      <title>winter 2023</title>
      <meta content="Bryan M" name="author" />
      <link href="favicon.ico" rel="icon" type="image/x-icon" />
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
      <link href='https://fonts.googleapis.com/css?family=Kalam' rel='stylesheet'>
<style>

* {
    margin: 0;
    padding: 0;  
}
body {
       color: white;
      background-color: darkSlateGray;
      font-family: Arial, Helvetica, sans-serif;
     // overflow-y: hidden; 
}
 
    .grid-container {
      display: grid;
      grid-template-columns: 15vw auto 15vw 15vw;
      padding-left: 20px;
    }
   
    .grid-item {
      padding: 2px;
      font-family: arial;
      font-size: 15px; //2vmin;
      text-align: left;
    }
   
     .grid-item-top {
        display: grid;
        grid-column: 1 / 5;
        padding: 2px;
        font-family: arial;
        font-size: 15px; //2vmin;
        text-align: left;           
   }
   
   #leaderlist, #footer {
      animation: fadein 3s linear forwards;
   }

   @keyframes fadein{
      0% { opacity: 0.0; }
      100% { opacity: 1.0; }
}



</style>
<body>
<div id="notyet"></div>

 <div class="grid-container" id="leaderlist">

    <div class="grid-item-top" id="comp"></div>

    <div class="grid-item" id="pos0">&nbsp;</div>
    <div class="grid-item" id="player0">&nbsp;</div>
    <div class="grid-item" id="points0">&nbsp;</div>
    <div class="grid-item" id="twos0">&nbsp;</div>
     
     <div class="grid-item" id="pos1">&nbsp;</div>
    <div class="grid-item" id="player1">&nbsp;</div>
    <div class="grid-item" id="points1">&nbsp;</div>
    <div class="grid-item" id="twos1">&nbsp;</div>
     
      <div class="grid-item" id="pos2">&nbsp;</div>
    <div class="grid-item" id="player2">&nbsp;</div>
    <div class="grid-item" id="points2">&nbsp;</div>
    <div class="grid-item" id="twos2">&nbsp;</div>
     
     
      <div class="grid-item" id="pos3">&nbsp;</div>
    <div class="grid-item" id="player3">&nbsp;</div>
    <div class="grid-item" id="points3">&nbsp;</div>
    <div class="grid-item" id="twos3">&nbsp;</div>
     
      <div class="grid-item" id="pos4">&nbsp;</div>
    <div class="grid-item" id="player4">&nbsp;</div>
    <div class="grid-item" id="points4">&nbsp;</div>
    <div class="grid-item" id="twos4">&nbsp;</div>
     
      <div class="grid-item" id="pos5">&nbsp;</div>
    <div class="grid-item" id="player5">&nbsp;</div>
    <div class="grid-item" id="points5">&nbsp;</div>
    <div class="grid-item" id="twos5">&nbsp;</div>
     
    <div class="grid-item-top" id="footer"></div> 
     
 </div>

</body>
<script>
var resultsarray = []
// page refreshes every 35 seconds

var x = "none"

async function getData() {
console.log("running")
document.getElementById("notyet").innerHTML = 'Requesting data from server ...'

var dataStream = await fetch(
  "https://opensheet.elk.sh/1W8j2wAuweR0B0fK8cLJZcb2c6cEiOJimFmKdIMcliw4/Leaderboard"
)

resultsarray = await dataStream.json();
console.log("getData() " + resultsarray[4].player)
x = resultsarray[4].player

































  console.log("m = ???????")
  for (var m = 0; m < 6; m++) { 

  console.log("m = " + m)
     console.log(resultsarray[m].player) 
         // odd number 
         if (m % 2 !== 0) {
             displaypos[m] = '<p style="color:#C3CCCC">' + resultsarray[m].pos + "</p>";
             displayplayer[m] = '<p style="color:#C3CCCC">' + resultsarray[m].player + "</p>";
             displaypoints[m] = '<p style="color:#C3CCCC">' + resultsarray[m].points + "</p>";
             displaytwos[m] = '<p style="color:#C3CCCC">' + resultsarray[m].twos + "</p>";
         } else {
             displaypos[m] = resultsarray[m].pos + "<br>";
             displayplayer[m] = resultsarray[m].player + "<br>";
             displaypoints[m] = resultsarray[m].points + "<br>";
             displaytwos[m] = resultsarray[m].twos + "<br>";
         }
       console.log("184 = " + displayplayer[m])    
         
     
         
    }

for (let mm = 1; mm < 10; mm++) {
  setTimeout(function timerx() {
   console.log("updating " + displayplayer[mm] )
    document.getElementById("comp").innerHTML = "Leaderboard for " + resultsarray[0].comp + "<br>"; 
    document.getElementById("pos" + mm).innerHTML = displaypos[mm]; 
    document.getElementById("player" + mm).innerHTML = displayplayer[mm] 
    document.getElementById("points" + mm).innerHTML = displaypoints[mm]; 
    document.getElementById("twos" + mm).innerHTML = displaytwos[mm]; 
  }, mm * 1000);
}

    document.getElementById("footer").innerHTML = "<br>These are the latest 'live' results as they come in, updated automatically every 35 seconds. Your submitted result should be available at next refresh. Only testing at the moment.<br><br>"
    
    document.getElementById("notyet").innerHTML = ''
    
    
 











}
//getData()






// if not a comp day show message and return to menu
var dd = new Date();
var dddate = dd.getDate();
var ddmonth = dd.getMonth();

arrMonths = ["January","February","March","April","May","June","July","August","September","October","November","December"]

var displaypos = [];
var displayplayer = [];
var displaypoints = [];
var displaytwos = [];





  function timer() {
   console.log("m = ???????")
  for (var m = 0; m < 6; m++) { 

  console.log("m = " + m)
     console.log(resultsarray[m].player) 
         // odd number 
         if (m % 2 !== 0) {
             displaypos[m] = '<p style="color:#C3CCCC">' + resultsarray[m].pos + "</p>";
             displayplayer[m] = '<p style="color:#C3CCCC">' + resultsarray[m].player + "</p>";
             displaypoints[m] = '<p style="color:#C3CCCC">' + resultsarray[m].points + "</p>";
             displaytwos[m] = '<p style="color:#C3CCCC">' + resultsarray[m].twos + "</p>";
         } else {
             displaypos[m] = resultsarray[m].pos + "<br>";
             displayplayer[m] = resultsarray[m].player + "<br>";
             displaypoints[m] = resultsarray[m].points + "<br>";
             displaytwos[m] = resultsarray[m].twos + "<br>";
         }
       console.log("184 = " + displayplayer[m])    
         
     
         
    }

for (let mm = 1; mm < 10; mm++) {
  setTimeout(function timerx() {
   console.log("updating " + displayplayer[mm] )
    document.getElementById("comp").innerHTML = "Leaderboard for " + resultsarray[0].comp + "<br>"; 
    document.getElementById("pos" + mm).innerHTML = displaypos[mm]; 
    document.getElementById("player" + mm).innerHTML = displayplayer[mm] 
    document.getElementById("points" + mm).innerHTML = displaypoints[mm]; 
    document.getElementById("twos" + mm).innerHTML = displaytwos[mm]; 
  }, mm * 1000);
}

    document.getElementById("footer").innerHTML = "<br>These are the latest 'live' results as they come in, updated automatically every 35 seconds. Your submitted result should be available at next refresh. Only testing at the moment.<br><br>"
    
    document.getElementById("notyet").innerHTML = ''
    
    
    
   } 
 
 
  // getData()
for (let n = 1; n < 10; n++) {
console.log("loop " + n)
  setTimeout(getData(),n * 10000);
}
 // timer()
//for (let k = 1; k < 10; k++) {
// setTimeout(timer(), k * 3000);
//}

</script>
</body>
</html>





