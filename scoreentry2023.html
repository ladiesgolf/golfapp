<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="ie=edge" http-equiv="X-UA-Compatible">
  <meta name="theme-color" content="black">
  <meta content="score input" name="description">
  <meta content="Bryan M" name="author">
  <title>winter 2023</title>
  <link href='https://fonts.googleapis.com/css?family=Kalam' rel='stylesheet'>
  <link href="wintericon.png" rel="icon" type="image/x-icon">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      color: white;
      background-color: indigo;
      font-family: Arial, Helvetica, sans-serif;
      overflow-y: hidden;
    }
    
    ::selection {
      background: none;
    }
    
    ::-moz-selection {
      background: none
    }
    
    .container {
      display: grid;
      grid-template-columns: repeat(3, 100%);
      align-content: center;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }
    
    .pagecard {
      width: 100%; //100vw;
      height: 100%; //90vh; //98vh; for iphone
      overflow: hidden;
      display: flex;
      background-color: indigo;
      scroll-snap-align: start;
      scroll-snap-stop: always;
    }
    
    .table1 {
      border: none;
      border-collapse: collapse;
      display: flex;
      justify-content: top;
    }
    
    .tableholes {
      border: none;
      border-collapse: collapse;
    }
    
    .stdtable {
      border: none;
      border-collapse: collapse;
    }
    
    #tr1,
    #tr2,
    #tr3,
    #tr4,
    #tr5,
    #tr6,
    #tr7,
    #tr8,
    #tr9,
    #tr10,
    #tr11,
    #tr12,
    #tr13,
    #tr14,
    #tr15,
    #tr16,
    #tr17,
    #tr18 {
      background: dodgerBlue;
    }
    
    .plus {
      font-size: 50px;
      color: white;
      width: 38vw;
      padding-right: 2vw;
      padding-left: 20vw;
      display: flex;
      justify-content: center;
      float: right;
    }
    
    .plusx {
      font-size: 20px;
      color: white;
      width: 38vw;
      padding-left: 7vw;
      padding-top: 20px;
      display: flex;
      justify-content: left;
      float: right;
    }
    
    #plusscore1,
    #plusscore2,
    #plusscore3,
    #plusscore4,
    #plusscore5,
    #plusscore6,
    #plusscore7,
    #plusscore8,
    #plusscore9,
    #plusscore10,
    #plusscore11,
    #plusscore12,
    #plusscore13,
    #plusscore14,
    #plusscore15,
    #plusscore16,
    #plusscore17,
    #plusscore18 {
      color: white;
    }
    
    .minus {
      font-size: 50px;
      color: white;
      width: 38vw;
      padding-left: 2vw;
      padding-right: 20vw;
      display: flex;
      justify-content: center;
      float: left;
    }
    
    .minusx {
      font-size: 20px;
      color: white;
      width: 38vw;
      padding-right: 7vw;
      padding-top: 20px;
      display: flex;
      justify-content: right;
      float: left;
    }
    
    #minusscore1,
    #minusscore2,
    #minusscore3,
    #minusscore4,
    #minusscore5,
    #minusscore6,
    #minusscore7,
    #minusscore8,
    #minusscore9,
    #minusscore10,
    #minusscore11,
    #minusscore12,
    #minusscore13,
    #minusscore14,
    #minusscore15,
    #minusscore16,
    #minusscore17,
    #minusscore18 {
      color: white;
    }
    
    .num {
      font-size: 15px;
      padding-top: 20px;
      color: white;
      width: 20vw;
      float: left;
      display: flex;
      justify-content: center;
    }
    
    .numx {
      font-size: 50px;
      padding-top: 0;
      color: white;
      width: 20vw;
      float: left;
      display: flex;
      justify-content: center;
      text-align: center;
    }
    
    #numscore1,
    #numscore2,
    #numscore3,
    #numscore4,
    #numscore5,
    #numscore6,
    #numscore7,
    #numscore8,
    #numscore9,
    #numscore10,
    #numscore11,
    #numscore12,
    #numscore13,
    #numscore14,
    #numscore15,
    #numscore16,
    #numscore17,
    #numscore18 {
      color: white;
    }
    
    .hide {
      opacity: 0 !important;
    }
    
    @keyframes animate-color {
      0% {
        background: dodgerBlue;
      }
      50% {
        background: cyan;
      }
      100% {
        background: dodgerBlue;
      }
    }
    
    #dropbtn {
      color: white;
      cursor: pointer;
      width: 100vw;
      height: 10vh;
      font-size: 25px;
      background: dodgerBlue;
      border-radius: 3px;
      border: none;
    }
    
    .dropdown {
      position: relative;
      display: inline-block;
    }
    
    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #f1f1f1;
      min-width: 160px;
      overflow: auto;
      box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
      z-index: 1;
      border-radius: 3px;
      box-shadow: 10px 10px 25px black;
      max-height: 70vh;
    }
    
    .dropdown-content a {
      color: gray;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
    }
    
    .show {
      display: block;
    }
    
    #my-form,
    #my-response-iframe {
 //     display: none;
      height: 20px;
      width: 60px;
    }
    
    .yellow {
      font-size: 20px;
      color: yellow;
    }
    
    .cyan {
      font-size: 20px;
      color: cyan;
    }
    
    .wrapper {
      width: 100vw;
    }
    
    .submitwrapper {
      color: white;
      background: dodgerBlue;
      width: 100vw;
      height: 9vh;
      text-align: center;
      font-size: 20px;
      padding-top: 2vh;
      border-radius: 5px;
      border: 5px solid white;
    }
    
    #submitwrapper {
      //	  filter: blur(5px);
  //    visibility: hidden;
    }
    
    .xsubmitwrapper {
      width: 95vw;
      height: 9vh;
      padding-left: 5vw;
    }
    
    #trhcp {
      color: white;
      background: dodgerBlue;
    }
    
    .holesinfo {
      font-size: 15px;
      width: 12vw;
      text-align: center;
      color: cyan;
    }
    
    .holesinfoy {
      font-size: 15px;
      width: 12vw;
      text-align: center;
      color: yellow;
    }
    
    .holesinfog {
      font-size: 15px;
      width: 12vw;
      text-align: center;
      color: lime;
    }
    
    #cback,
    #ptotal,
    #htotal {
      text-align: left;
    }
    
    #submit_confirmdiv {
      display: none;
      color: white;
      background-color: #eee;
      border-radius: 5px;
      border: 1px solid #aaa;
      position: fixed;
      width: 90vw;
      margin-left: 5vw;
      margin-top: 20vh;
      padding: 10px 10px 10px; // t lr b
      box-sizing: border-box;
      text-align: center;
    }
    
    #id_confrmdiv {
      display: none;
      color: black;
      background-color: #eee;
      border-radius: 5px;
      border: 1px solid #aaa;
      position: fixed;
      width: 300px;
      left: 50%;
      margin-left: -150px;
      margin-top: 10vh;
      padding: 6px 8px 8px;
      box-sizing: border-box;
      text-align: center;
    }
    
    #id_confrmdiv button,
    #submit_confirmdiv button {
      background-color: #ccc;
      display: inline-block;
      border-radius: 3px;
      border: 1px solid #aaa;
      padding: 2px;
      margin: 3px;
      text-align: center;
      width: 75px;
      height: 50px;
      cursor: pointer;
    }
    
    #id_confrmdiv .button:hover {
      background-color: #ddd;
    }
    
    #hcpwrapper {
      //  filter: blur(5px);
      visibility: hidden;
    }
    
    #numhcp {
      visibility: visible;
      font-size: 50px;
      padding-top: 0;
    }
    
    .indicator {
      font-size: 18px;
      text-align: left;
      color: yellow;
    }
    
    #submitwrapper {
      opacity: 1;
      transition: opacity 0.7s;
    }
    
    #submitwrapper.fade {
      opacity: 0;
    }
    
#showrules {
      visibility: hidden;
      font-family: 'Kalam';
      font-size: 14px;
      color: white;
      text-align: left;
      position: fixed;
      z-index: 1;
      padding-top: 10px;
      padding-left: 10px;
      padding-right: 5px;
      padding-bottom: 10px;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: dodgerBlue;
      background-color: rgba(0, 0, 0, 0.7);
    }    

#showcoursecard {
      visibility: hidden;
      font-family: 'Kalam';
      font-size: 16px;
      color: white;
      text-align: left;
      position: fixed;
      z-index: 1;
      padding-top: 10px;
      padding-left: 10px;
      padding-right: 5px;
      padding-bottom: 10px;
      left: 0;
      top: 0;
      width: 100%;
      height: 150%;
      overflow: auto;
      background-color: dodgerBlue;
      background-color: rgba(0, 0, 0, 0.7);
    }
    
    #xxx {
      font-family: 'Kalam';
      font-size: 16px;
      color: white;
    }
    
    .circle1 {
      font-family: 'Kalam';
      border-radius: 50%;
      padding-left: 10px;
      padding-right: 10px;
      background: black;
      border: 3px solid white;
      color: white;
      text-align: center;
      font-size: 16px;
    }

 .circle2 {
      font-family: 'Kalam';
      border-radius: 50%;
      padding-left: 10px;
      padding-right: 10px;
      background: black;
      border: 4px solid cyan;
      color: cyan;
      text-align: center;
      font-size: 16px;
      font-weight: bold;
    }
    
    .nocircle1 {
      font-family: 'Kalam';
      padding-left: 10px;
      padding-right: 10px;
      color: lightBlue;
      text-align: center;
      font-size: 16px;
    }
    
    .cyanhole {
       color: cyan;
    }

    #limg {
       padding-left: 15px;
    }

    #rimg {
       padding-right: 15px;
    }

    #mimgl {
       padding-right: 15px;     
       text-align: center;
    }

    #mimgr {
       padding-left: 15px;
       text-align: center;  
    }

  </style>
  
</head>

<body>
  <div class="container">
    <div class="pagecard" id="setup">
      <table class="table1">
        <caption></caption>
        <thead>
          <tr>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr class="tr1">
            <td>
              <div class="wrapper">
                <button onclick="myFunction();" class="dropbtn" id="dropbtn">select player</button>
                <div id="myDropdown" class="dropdown-content"> </div>
              </div>
            </td>
          </tr>
          <tr>
            <td>
              <div>
                <!--
                <div class="ccontainer" id="swiperight"> <img src="pressbuttonflash.png" alt="swipe" style="position: absolute; top: 6vh; right: 3vw; height: 85px; width: 85px;"> </div>
                 -->
              </div>
             
            </td>
          </tr>
          <tr>
            <td>
              <table class="tableholes">
                <caption></caption>
                <thead>
                  <tr>
                    <th class="holesinfog">hole</th>
                    <th class="holesinfog">score</th>
                    <th class="holesinfog">points</th>
                    <th class="holesinfo">hole</th>
                    <th class="holesinfo">score</th>
                    <th class="holesinfo">points</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="holesinfog">1</td>
                    <td class="holesinfog" id="h1">0</td>
                    <td class="holesinfog" id="p1">0</td>
                    <td class="holesinfo">10</td>
                    <td class="holesinfo" id="h10">0</td>
                    <td class="holesinfo" id="p10">0</td>
                  </tr>
                  <tr>
                    <td class="holesinfog">2</td>
                    <td class="holesinfog" id="h2">0</td>
                    <td class="holesinfog" id="p2">0</td>
                    <td class="holesinfo">11</td>
                    <td class="holesinfo" id="h11">0</td>
                    <td class="holesinfo" id="p11">0</td>
                  </tr>
                  <tr>
                    <td class="holesinfog">3</td>
                    <td class="holesinfog" id="h3">0</td>
                    <td class="holesinfog" id="p3">0</td>
                    <td class="holesinfo">12</td>
                    <td class="holesinfo" id="h12">0</td>
                    <td class="holesinfo" id="p12">0</td>
                  </tr>
                  <tr>
                    <td class="holesinfog">4</td>
                    <td class="holesinfog" id="h4">0</td>
                    <td class="holesinfog" id="p4">0</td>
                    <td class="holesinfo">13</td>
                    <td class="holesinfo" id="h13">0</td>
                    <td class="holesinfo" id="p13">0</td>
                  </tr>
                  <tr>
                    <td class="holesinfog">5</td>
                    <td class="holesinfog" id="h5">0</td>
                    <td class="holesinfog" id="p5">0</td>
                    <td class="holesinfo">14</td>
                    <td class="holesinfo" id="h14">0</td>
                    <td class="holesinfo" id="p14">0</td>
                  </tr>
                  <tr>
                    <td class="holesinfog">6</td>
                    <td class="holesinfog" id="h6">0</td>
                    <td class="holesinfog" id="p6">0</td>
                    <td class="holesinfo">15</td>
                    <td class="holesinfo" id="h15">0</td>
                    <td class="holesinfo" id="p15">0</td>
                  </tr>
                  <tr>
                    <td class="holesinfog">7</td>
                    <td class="holesinfog" id="h7">0</td>
                    <td class="holesinfog" id="p7">0</td>
                    <td class="holesinfo">16</td>
                    <td class="holesinfo" id="h16">0</td>
                    <td class="holesinfo" id="p16">0</td>
                  </tr>
                  <tr>
                    <td class="holesinfog">8</td>
                    <td class="holesinfog" id="h8">0</td>
                    <td class="holesinfog" id="p8">0</td>
                    <td class="holesinfo">17</td>
                    <td class="holesinfo" id="h17">0</td>
                    <td class="holesinfo" id="p17">0</td>
                  </tr>
                  <tr>
                    <td class="holesinfog">9</td>
                    <td class="holesinfog" id="h9">0</td>
                    <td class="holesinfog" id="p9">0</td>
                    <td class="holesinfo">18</td>
                    <td class="holesinfo" id="h18">0</td>
                    <td class="holesinfo" id="p18">0</td>
                  </tr>
                  <tr>
                    <td class="holesinfoy">front</td>
                    <td class="holesinfoy" id="hfront">0</td>
                    <td class="holesinfoy" id="pfront">0</td>
                    <td class="holesinfoy">back</td>
                    <td class="holesinfoy" id="hback">0</td>
                    <td class="holesinfoy" id="pback">0</td>
                  </tr>
                  <tr>
                    <td class="holesinfoy">&nbsp;</td>
                    <td class="holesinfoy"></td>
                    <td class="holesinfoy"></td>
                    <td class="holesinfoy"></td>
                    <td class="holesinfoy"></td>
                    <td class="holesinfoy"></td>
                  </tr>
                  <tr>
                    <td class="holesinfoy" colspan="2">total score</td>
                    <td class="holesinfoy" id="htotal">0</td>
                    <td class="holesinfoy" colspan="2">total points</td>
                    <td class="holesinfoy" id="ptotal">0</td>
                  </tr>
                  <tr>
                    <td class="holesinfoy" colspan="2">countback</td>
                    <td class="holesinfoy" colspan="4" id="cback">0</td>
                  </tr>
                  <tr>
                    <td class="holesinfoy">&nbsp;</td>
                    <td class="holesinfoy"></td>
                    <td class="holesinfoy"></td>
                    <td class="holesinfoy"></td>
                    <td class="holesinfoy"></td>
                    <td class="holesinfoy"></td>
                  </tr>
                  <tr class="tr1" id="trhcp">
                    <td class="xxxxtdright" colspan="6">
                      <div class="hcpwrapper" id="hcpwrapper"><span class="minusx" id="minushcpx">playing</span><span class="numx" id="numhcp">?</span> <span class="plusx" id="plushcpx">handicap</span></div>
                    </td>
                  </tr>
                  <tr>
                    <td class="holesinfoy">&nbsp;</td>
                    <td class="holesinfoy"></td>
                    <td class="holesinfoy"></td>
                    <td class="holesinfoy"></td>
                    <td class="holesinfoy"></td>
                    <td class="holesinfoy"></td>
                  </tr>
                  <tr class="xxxtr1">
                    <td class="xxxxtdright" colspan="6">
                      <div class="submitwrapper" id="submitwrapper" onclick="submitForm()">
                        <div id="submittxt">Submit score</div>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="6">
                      <div>&nbsp;</div>
                    </td>
                  </tr>
                  <tr>
                    <td id="limg" colspan="2">
                         <img src="resetwhite.png" alt="cache" onclick="clearCache()" style="float: left; height: 40px; width: 40px;">
                    </td>

                    <td id="mimgl">
                          <img src="documents-icon.png" alt="strokes" onclick="showcoursecard()" style="height: 40px; width: 40px;">
                    </td>

                    <td id="mimgr">
                          <img src="ruleswhite.png" alt="rules" onclick="showrules()" style="height: 40px; width: 40px;">
                    </td>

                    <td id="rimg" colspan="2">
                          <img src="contrastwhite.png" alt="contrast" onclick="togglecontrast()" style="float: right; height: 40px; width: 40px;">
                          
                          <div id="xxx"></div>
                          
                          <div class="demo">
                             <!-- coursecard strokes and rules -->
                             <div class="showcoursecard" id="showcoursecard" onclick="ccclose()"></div>
                             <div class="showrules" id="showrules" onclick="rclose()"></div>                     
                          </div>
                  
                    </td>
                  </tr>
                </tbody>
              </table>
            </td>
          </tr>
        
        </tbody>
      </table>



  <span id="spinhcp"></span>

      <div id="id_confrmdiv">
        <!-- filled by script -->
      </div>
    </div>
    <div class="pagecard" id="front">
      <div class="left">
        <table class="table2">
          <caption></caption>
          <thead>
            <tr>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr class="tr1" id="tr1">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore1" onclick='decrementScore("numscore1")'>-</span> <span class="num" id="numscore1" onclick="showHole(this.id)">hole 1</span> <span class="plus" id="plusscore1" onclick='incrementScore("numscore1");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr2">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore2" onclick='decrementScore("numscore2")'>-</span> <span class="num" id="numscore2" onclick="showHole(this.id)">hole 2</span> <span class="plus" id="plusscore2" onclick='incrementScore("numscore2");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr3">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore3" onclick='decrementScore("numscore3")'>-</span> <span class="num" id="numscore3" onclick="showHole(this.id)">hole 3</span> <span class="plus" id="plusscore3" onclick='incrementScore("numscore3");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr4">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore4" onclick='decrementScore("numscore4")'>-</span> <span class="num" id="numscore4" onclick="showHole(this.id)">hole 4</span> <span class="plus" id="plusscore4" onclick='incrementScore("numscore4");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr5">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore5" onclick='decrementScore("numscore5")'>-</span> <span class="num" id="numscore5" onclick="showHole(this.id)">hole 5</span> <span class="plus" id="plusscore5" onclick='incrementScore("numscore5");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr6">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore6" onclick='decrementScore("numscore6")'>-</span> <span class="num" id="numscore6" onclick="showHole(this.id)">hole 6</span> <span class="plus" id="plusscore6" onclick='incrementScore("numscore6");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr7">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore7" onclick='decrementScore("numscore7")'>-</span> <span class="num" id="numscore7" onclick="showHole(this.id)">hole 7</span> <span class="plus" id="plusscore7" onclick='incrementScore("numscore7");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr8">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore8" onclick='decrementScore("numscore8")'>-</span> <span class="num" id="numscore8" onclick="showHole(this.id)">hole 8</span> <span class="plus" id="plusscore8" onclick='incrementScore("numscore8");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr9">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore9" onclick='decrementScore("numscore9")'>-</span> <span class="num" id="numscore9" onclick="showHole(this.id)">hole 9</span> <span class="plus" id="plusscore9" onclick='incrementScore("numscore9");'>+</span> </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="pagecard" id="back">
      <div class="left">
        <table class="table3">
          <caption></caption>
          <thead>
            <tr>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr class="tr1" id="tr10">
              <td>
                <div class="wrapper"> <span class="minus" id="minusscore10" onclick='decrementScore("numscore10")'>-</span> <span class="num" id="numscore10" onclick="showHole(this.id)">hole 10</span> <span class="plus" id="plusscore10" onclick='incrementScore("numscore10");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr11">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore11" onclick='decrementScore("numscore11")'>-</span> <span class="num" id="numscore11" onclick="showHole(this.id)">hole 11</span> <span class="plus" id="plusscore11" onclick='incrementScore("numscore11");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr12">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore12" onclick='decrementScore("numscore12")'>-</span> <span class="num" id="numscore12" onclick="showHole(this.id)">hole 12</span> <span class="plus" id="plusscore12" onclick='incrementScore("numscore12");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr13">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore13" onclick='decrementScore("numscore13")'>-</span> <span class="num" id="numscore13" onclick="showHole(this.id)">hole 13</span> <span class="plus" id="plusscore13" onclick='incrementScore("numscore13");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr14">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore14" onclick='decrementScore("numscore14")'>-</span> <span class="num" id="numscore14" onclick="showHole(this.id)">hole 14</span> <span class="plus" id="plusscore14" onclick='incrementScore("numscore14");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr15">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore15" onclick='decrementScore("numscore15")'>-</span> <span class="num" id="numscore15" onclick="showHole(this.id)">hole 15</span> <span class="plus" id="plusscore15" onclick='incrementScore("numscore15");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr16">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore16" onclick='decrementScore("numscore16")'>-</span> <span class="num" id="numscore16" onclick="showHole(this.id)">hole 16</span> <span class="plus" id="plusscore16" onclick='incrementScore("numscore16");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr17">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore17" onclick='decrementScore("numscore17")'>-</span> <span class="num" id="numscore17" onclick="showHole(this.id)">hole 17</span> <span class="plus" id="plusscore17" onclick='incrementScore("numscore17");'>+</span> </div>
              </td>
            </tr>
            <tr class="tr1" id="tr18">
              <td class="xtdright">
                <div class="wrapper"> <span class="minus" id="minusscore18" onclick='decrementScore("numscore18")'>-</span> <span class="num" id="numscore18" onclick="showHole(this.id)">hole 18</span> <span class="plus" id="plusscore18" onclick='incrementScore("numscore18");'>+</span> </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <br>
  <br>
  <!-- form to construct data prior to submit -->
  <form action="https://docs.google.com/forms/d/e/1FAIpQLSfdwx-CGlC7iba_8pi7yNcxN0gibgGXQJxEvAO91cTVhnmfrg/formResponse" id="my-form" method="post" name="my-form" target="my-response-iframe">
    <!-- name, hcp, course -->
    <input id='mx474474348' name='entry.474474348' type='text' value='default'>
    <input id='mx2131369517' name='entry.2131369517' type='text' value='default'>
    <input id='mx477101370' name='entry.477101370' type='text' value='default'>
    <input id='mx1980297491' name='entry.1980297491' type='text' value='default'>
    <input id='mx463832232' name='entry.463832232' type='text' value='default'>
    <input id='mx205704642' name='entry.205704642' type='text' value='default'>
    <input id='mx278278589' name='entry.278278589' type='text' value='default'>
    <input id='mx949547387' name='entry.949547387' type='text' value='default'>
    <input id='mx703011397' name='entry.703011397' type='text' value='default'>
    <input id='mx1460583253' name='entry.1460583253' type='text' value='default'>
    <input id='mx462940045' name='entry.462940045' type='text' value='default'>
    <input id='mx477691508' name='entry.477691508' type='text' value='default'>
    <input id='mx413249407' name='entry.413249407' type='text' value='default'>
    <input id='mx108900453' name='entry.108900453' type='text' value='default'>
    <input id='mx1841236411' name='entry.1841236411' type='text' value='default'>
    <input id='mx1864644918' name='entry.1864644918' type='text' value='default'>
    <input id='mx1538428689' name='entry.1538428689' type='text' value='default'>
    <input id='mx1449918213' name='entry.1449918213' type='text' value='default'>
    <input id='mx38761817' name='entry.38761817' type='text' value='default'>
    <input id='mx247392471' name='entry.247392471' type='text' value='default'>
    <input id='mx741809181' name='entry.741809181' type='text' value='default'>
    <input id='mx1362729237' name='entry.1362729237' type='text' value='default'>
    <input id='mx1372983908' name='entry.1372983908' type='text' value='default'>
    <input id='mx2002196917' name='entry.2002196917' type='text' value='default'>
    <input id='mx640802794' name='entry.640802794' type='text' value='default'>
    <input id='mx2076656246' name='entry.2076656246' type='text' value='default'>
    <input id='mx486346919' name='entry.486346919' type='text' value='default'>
    <input id='mx1918313229' name='entry.1918313229' type='text' value='default'>
    <input id='mx638821' name='entry.638821' type='text' value='default'>
    <input id='mx737099688' name='entry.737099688' type='text' value='default'>
    <input id='mx488827232' name='entry.488827232' type='text' value='default'>
    <input id='mx1203421487' name='entry.1203421487' type='text' value='default'>
    <input id='mx979421831' name='entry.979421831' type='text' value='default'>
    <input id='mx929858153' name='entry.929858153' type='text' value='default'>
    <input id='mx1330487443' name='entry.1330487443' type='text' value='default'>
    <input id='mx940496448' name='entry.940496448' type='text' value='default'>
    <input id='mx1127168348' name='entry.1127168348' type='text' value='default'>
    <input id='mx638332104' name='entry.638332104' type='text' value='default'>
    <input id='mx1626319908' name='entry.1626319908' type='text' value='default'>
    <input id='mx362674948' name='entry.362674948' type='text' value='default'>
    <input id='mx544180710' name='entry.544180710' type='text' value='default'>
    <input id='mx893562950' name='entry.893562950' type='text' value='default'>
    <input id='mx335596501' name='entry.335596501' type='text' value='default'>
    <input id='mx1453506389' name='entry.1453506389' type='text' value='default'>
    <input id='mx1045870519' name='entry.1045870519' type='text' value='default'>
    <input id='mx683300283' name='entry.683300283' type='text' value='default'>
    <input id='mx967906330' name='entry.967906330' type='text' value='default'>
    <input id='mx789190149' name='entry.789190149' type='text' value='default'>
    <input type="submit"> </form>
  <!-- google iframe inserted here - invisible -->
  <iframe height="20" id="my-response-iframe" name="my-response-iframe" src="https://docs.google.com/forms/d/e/1FAIpQLSfdwx-CGlC7iba_8pi7yNcxN0gibgGXQJxEvAO91cTVhnmfrg/viewform?embedded=true" width="60"></iframe>
  <br>
  <br>
  <br>
  <br>
  <script>
    //===========================
    // this code runs at startup
    //===========================
    // declare global variables
    var hcp = "hcp";
    var player = "select player";
    var course;
    var comp;
    var compday = "no";
     
    // set up courses with details for calculations etc.
    // array ["hole num",par,si]
    // Lakes
    arrLakes = [
      [0, 0, 0],
      [1, 4, 15],
      [2, 4, 7],
      [3, 5, 3],
      [4, 4, 1],
      [5, 3, 17],
      [6, 3, 11],
      [7, 4, 9],
      [8, 4, 5],
      [9, 4, 13],
      [10, 3, 16],
      [11, 4, 18],
      [12, 4, 10],
      [13, 4, 6],
      [14, 3, 14],
      [15, 3, 4],
      [16, 5, 12],
      [17, 4, 2],
      [18, 5, 8]
    ];
    // array ["hole num",par,si]
    // Dawson
    arrDawson = [
      [0, 0, 0],
      [1, 5, 13],
      [2, 4, 15],
      [3, 3, 17],
      [4, 4, 3],
      [5, 4, 1],
      [6, 5, 11],
      [7, 4, 7],
      [8, 4, 9],
      [9, 5, 5],
      [10, 4, 16],
      [11, 5, 14],
      [12, 3, 18],
      [13, 4, 2],
      [14, 4, 4],
      [15, 4, 12],
      [16, 3, 6],
      [17, 4, 10],
      [18, 4, 8]
    ];
    // array ["hole num",par,si]
    // OldCourse
    arrOldCourse = [
      [0, 0, 0],
      [1, 5, 10],
      [2, 4, 6],
      [3, 3, 18],
      [4, 5, 4],
      [5, 3, 16],
      [6, 4, 2],
      [7, 4, 14],
      [8, 4, 8],
      [9, 4, 12],
      [10, 4, 5],
      [11, 3, 13],
      [12, 4, 15],
      [13, 4, 1],
      [14, 5, 7],
      [15, 3, 11],
      [16, 5, 9],
      [17, 4, 3],
      [18, 5, 17]
    ];
    // array of competition dates
    // these need to be the same as the setup page on google sheets
    // if they are to be recorded properly in the results
// array of competition dates
		 arrComps = [
"Lakes 12 December 2023",
"Lakes 13 December 2023",
"Lakes 14 December 2023",
"Lakes 15 December 2023",
"Lakes 16 December 2023",
"Lakes 17 December 2023",
"Lakes 18 December 2023",
"Lakes 19 December 2023",
"Lakes 20 December 2023",
"Lakes 21 December 2023",
"Lakes 22 December 2023",
"Lakes 23 December 2023",
"Lakes 24 December 2023",
"Lakes 25 December 2023",
"Lakes 26 December 2023",
"Lakes 27 December 2023",
"Lakes 28 December 2023",
"Lakes 29 December 2023",
"Lakes 30 December 2023",
"Lakes 31 December 2023",
"OldCourse 01 January 2024",
"OldCourse 02 January 2024",
"OldCourse 03 January 2024",
"OldCourse 04 January 2024",
"OldCourse 05 January 2024",
"OldCourse 06 January 2024",
"OldCourse 07 January 2024",
"OldCourse 08 January 2024",
"OldCourse 09 January 2024",
"OldCourse 10 January 2024",
"OldCourse 11 January 2024",
"OldCourse 12 January 2024",
"OldCourse 13 January 2024",
"OldCourse 14 January 2024",
"OldCourse 15 January 2024",
"OldCourse 16 January 2024",
"OldCourse 17 January 2024",
"OldCourse 18 January 2024",
"OldCourse 19 January 2024",
"OldCourse 20 January 2024",
"OldCourse 21 January 2024",
"OldCourse 22 January 2024",
"OldCourse 23 January 2024",
"OldCourse 24 January 2024",
"OldCourse 25 January 2024",
"OldCourse 26 January 2024",
"OldCourse 27 January 2024",
"OldCourse 28 January 2024",
"OldCourse 29 January 2024",
"OldCourse 30 January 2024",
"OldCourse 31 January 2024"
    ];
    
    
    // master array of members
    // this is the centralised list of members, the 0 is used to allow a "sorted" menu
    // by keeping track of the number of "hits" per name
    var master = [
    ["Gillian Airey", 0],
["Dianne Aitkenhead", 0],
["Stephanie Alldridge", 0],
["Karen Belshaw", 0],
["Maureen Broom", 0],
["Mary Brotherton", 0],
["Carol Caesar", 0],
["Carol Caisley", 0],
["Christine Chelton", 0],
["Kate Clark", 0],
["Irene Collier", 0],
["Brenda Connelly", 0],
["Julie Cornhill", 0],
["Alex Coupland", 0],
["Norma Coxon", 0],
["Brenda Craggs", 0],
["Andy Davison", 0],
["Jean Dean", 0],
["Paula Dodds", 0],
["Gillian Doughty", 0],
["Mary Edwards", 0],
["Jean Fletcher", 0],
["Norma Ford", 0],
["Tina French", 0],
["Norma Gilholm", 0]
];
        
// match theme color to background color
var backgroundcolor = window.getComputedStyle(document.body, null).getPropertyValue('background-color');
document.querySelector("meta[name=theme-color]").setAttribute("content",backgroundcolor);
//---------------------

    // check for any new members etc.
    // setup local dropdown if not there
    if (!("dropdown" in localStorage)) {
      //=====LocalStorage.dropdown===================
      localStorage.dropdown = JSON.stringify(master);
      //=============================================
    }
    // default notsame to false
    var notsame = false;
    if ("dropdown" in localStorage) {
      // retrieve dropdown info
      var options = JSON.parse(localStorage.dropdown);
      // see if different number of items
      if (options.length !== master.length) {
        notsame = true;
      } else {
        // Comparing each element of your array
        for (var i = 0; i < options.length; i++) {
          // see if items are different
          if (options[i][0] !== master[i][0]) {
            notsame = true;
          }
        }
      }
    };


    // if different
    if (notsame) {
      // option is original, master is new
      // update new with numbers from original
      for (var i = 0; i < options.length; i++) {
        for (var j = 0; j < master.length; j++) {
          if (options[i][0] == master[j][0]) {
            master[j][1] = options[i][1];
          }
        }
      }
      options = JSON.parse(JSON.stringify(master));
      //=====LocalStorage.dropdown====================
      localStorage.dropdown = JSON.stringify(options);
      //==============================================
    }

    // bring most commonly selected to the top
    options.sort(compareSecondColumn);
    // create player dropdown
    var select = document.getElementById("myDropdown");
    // this is what is created
    //<a id="myLink1" href="#" onclick='dropSelected(this.innerText);return false;'>Graham Airey</a>
    //
    for (var i = 0; i < options.length; i++) {
      var el = document.createElement("a");
      el.id = "myLink" + (i + 1);
      el.setAttribute("onclick", "dropSelected(this.innerText);return false;");
      el.setAttribute("href", "#");
      el.innerText = options[i][0];
      select.appendChild(el);
      if (options[i][1] > 0) {
        document.getElementById("myLink" + (i + 1)).style.color = "blue";
        document.getElementById("myLink" + (i + 1)).style.background = "lightBlue";
      }
    }
    // Close the dropdown if the user clicks outside of it
    window.onclick = function(event) {
      if (!event.target.matches('.dropbtn')) {
        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    };
    // get todays date eg 26 June
    dd = new Date();
    // get date number and format it
    d1 = dd.getDate();
    if (d1 < 10) {
      d1 = "0" + d1;
    }
    // get month and format it
    d2 = dd.getMonth();

    if (d2 == 0) {
      m = "January";
    }
    if (d2 == 1) {
      m = "February";
    }
    if (d2 == 2) {
      m = "March";
    }
    if (d2 == 3) {
      m = "April";
    }
    if (d2 == 4) {
      m = "May";
    }
    if (d2 == 5) {
      m = "June";
    }
    if (d2 == 6) {
      m = "July";
    }
    if (d2 == 7) {
      m = "August";
    }
    if (d2 == 8) {
      m = "September";
    }
    if (d2 == 9) {
      m = "October";
    }
    if (d2 == 10) {
      m = "November";
    }
    if (d2 == 11) {
      m = "December";
    }
    dateToday = d1 + " " + m;
    // tidy localStorage if out of date to allow new "blank" setup
    if ("comp" in localStorage) {
      if (localStorage.comp.indexOf(dateToday) == -1) {
        // tidy
        clearCache();
      }
    }
    // recover data if dates match
    // this allows data to be kept over refreshes
    if ("comp" in localStorage) {
      if (localStorage.comp.indexOf(dateToday) > -1) {
        // recover
        recoverFromLocalStorage();
      }
    }
    // see if it is a compday and if so find comp and course from array list
    for (i = 0; i < arrComps.length; i++) {
      // if today - eg. "22 June" in arrComps list then compday = "yes"
      if (arrComps[i].indexOf(d1 + " " + m) > -1) {
        compday = "yes";
        comp = arrComps[i];
        //console.log("comp = " + comp)
        //console.log("course Lakes = " + arrComps[i].indexOf("Lakes"))
        //console.log("course Dawson = " + arrComps[i].indexOf("Dawson"))
        if (arrComps[i].indexOf("Lakes") > -1) {
          // global course
          course = "Lakes";
          // localStorage course
          localStorage.course = "Lakes";
        }
        if (arrComps[i].indexOf("Dawson") > -1) {
          // global course
          course = "Dawson";
          // localStorage course
          localStorage.course = "Dawson";
        }
        if (arrComps[i].indexOf("OldCourse") > -1) {
          // global course
          course = "OldCourse";
          // localStorage course
          localStorage.course = "OldCourse";
        }
      }
    }
    //console.log("course = " + course)	
    if (compday == "yes") {
      localStorage.comp = comp;
    }
    // if not a compday find out what course is played and create a comp
    if (compday == "no") {
      if (!("comp" in localStorage)) {
        showCourseChoice();
      }
    }
    // recover	
    if (comp == localStorage.comp) {
      recoverFromLocalStorage();
    }
    // show comp info message for 3 seconds
    if ("comp" in localStorage) {
      showCompMessage();
    }
    //=============================================================
    // functions - run when called
    //=============================================================     
    function resetNames() {
      // create/recreate options favourites
      // run from menu item at bottom of list
      options = JSON.parse(JSON.stringify(master));
      // update local storage
      //=====LocalStorage.dropdown====================
      localStorage.dropdown = JSON.stringify(options);
      //==============================================
      // bring most commonly selected to the top
      // options.sort(compareSecondColumn);
      // create player dropdown
      var select = document.getElementById("myDropdown");
      // empty names
      select.innerHTML = "";
      // redo list for menu
      // <a id="myLink1" href="#" onclick='dropSelected(this.innerText);return false;'>Graham Airey</a>
      //
      for (var i = 0; i < options.length; i++) {
        var el = document.createElement("a");
        el.id = "myLink" + (i + 1);
        el.setAttribute("onclick", "dropSelected(this.innerText);return false;");
        el.setAttribute("href", "#");
        el.innerText = options[i][0];
        select.appendChild(el);
      }
    }
    // sort function to sort by second array item in 2D array
    function compareSecondColumn(a, b) {
      if (a[1] === b[1]) {
        return 0;
      } else {
        return (a[1] > b[1]) ? -1 : 1;
      }
    }
    // name selected, do stuff
    function dropSelected(playerName) {
      if (playerName == "reset list") {
        resetNames();
      } else {
        for (var k = 0; k < options.length; k++) {
          if (options[k][0] == playerName) {
            found = true;
            pos = k;
          }
        }
        // change color on selection
        document.getElementById("myLink" + (pos + 1)).style.color = "blue";
        document.getElementById("myLink" + (pos + 1)).style.background = "lightBlue";
        // update player choice
        player2submit = document.getElementById("myLink" + (pos + 1)).innerText;
        if (pos > 0) {
          // increment number of times chosen
          var tc = parseInt(options[pos][1]) + 1;
          options[pos][1] = tc;
          // store new order
          //=====LocalStorage.dropdown====================
          localStorage.dropdown = JSON.stringify(options);
          //==============================================
        }
        // global player
        player = playerName;
        // replace button name
        element = document.getElementById("dropbtn");
        element.innerText = player;
        // update player choices
        // reset hole scores
        //=====LocalStorage.player=====
        localStorage.player = player;
        //=============================
        player2submit = player;
        // close dropdown
        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }

        doGetHCP();
      }
    }

    // show menu of names
    function myFunction() {
      // When the user clicks on the button, toggle between hiding and showing the dropdown content
      document.getElementById("myDropdown").classList.toggle("show");
    }

    //=================================================
    // look after swipes etc.
    // global keep track of swipes
    //=================================================
    var touchstartX = 0;
    var touchendX = 0;
    // do stuff when swiped
    function checkDirection() {
      if (touchendX < touchstartX) {
        // clear swipe icon
        console.log("here 1")
        document.getElementById("swiperight").innerHTML = "";
        console.log("here 2")
        // unblur submit button
        // document.getElementById("submitwrapper").style.filter = "none";
        document.getElementById("submitwrapper").style.visibility = "visible";

        if (localStorage.getItem("player") == null || localStorage.getItem("hcp") == null) {
          // prevent some false messages
          if ((touchstartX - touchendX) > 100) {
            showSetPlayerMessage();
          }
        }
      }
    }
    document.addEventListener('touchstart', e => {
      touchstartX = e.changedTouches[0].screenX;
    });
    document.addEventListener('touchend', e => {
      touchendX = e.changedTouches[0].screenX;
      checkDirection();
    });

    //====================================================
    //
    //====================================================

    /*
     prefilled form from google forms to allow inputs
     https://docs.google.com/forms/d/e/1FAIpQLSfz7JwsoPVvFYEiZqlH2IS3YOw7OuT9hQEdN1O8zfLXWtU4sw/viewform?usp=pp_url&
    	entry.474474348=player&
    	entry.2131369517=comp&
    	entry.477101370=hcp&
    	entry.1980297491=s1&
    	entry.463832232=s2&
    	entry.205704642=s3&
    	entry.278278589=s4&
    	entry.949547387=s5&
    	entry.703011397=s6&
    	entry.1460583253=s7&
    	entry.462940045=s8&
    	entry.477691508=s9&
    	entry.413249407=s10&
    	entry.108900453=s11&
    	entry.1841236411=s12&
    	entry.1864644918=s13&
    	entry.1538428689=s14&
    	entry.1449918213=s15&
    	entry.38761817=s16&
    	entry.247392471=s17&
    	entry.741809181=s18&
    	entry.1362729237=p1&
    	entry.1372983908=p2&
    	entry.2002196917=p3&
    	entry.640802794=p4&
    	entry.2076656246=p5&
    	entry.486346919=p6&
    	entry.1918313229=p7&
    	entry.638821=p8&
    	entry.737099688=p9&
    	entry.488827232=p10&
    	entry.1203421487=p11&
    	entry.979421831=p12&
    	entry.929858153=p13&
    	entry.1330487443=p14&
    	entry.940496448=p15&
    	entry.1127168348=p16&
    	entry.638332104=p17&
    	entry.1626319908=p18&
    	entry.362674948=out9&
    	entry.544180710=back9&
    	entry.893562950=totalpoints&
    	entry.335596501=cb9&
    	entry.1453506389=cb6&
    	entry.1045870519=cb3&
    	entry.683300283=cb1&
    	entry.967906330=twos&
    	entry.789190149=compplayer
    	*/
    // send info from HTML form to google form	
    function submitForm() {
      // get the relevant info into a form
      // dont allow submit for an incorrect day
      if (compday == "no") {
        showNoSubmitMessage();
      } else {
        document.getElementById('mx474474348').value = comp;  // swapped ???
        document.getElementById('mx2131369517').value = player;   // swapped ???
        document.getElementById('mx477101370').value = hcp;
        document.getElementById('mx1980297491').value = document.getElementById("h1").innerText;
        document.getElementById('mx463832232').value = document.getElementById("h2").innerText;
        document.getElementById('mx205704642').value = document.getElementById("h3").innerText;
        document.getElementById('mx278278589').value = document.getElementById("h4").innerText;
        document.getElementById('mx949547387').value = document.getElementById("h5").innerText;
        document.getElementById('mx703011397').value = document.getElementById("h6").innerText;
        document.getElementById('mx1460583253').value = document.getElementById("h7").innerText;
        document.getElementById('mx462940045').value = document.getElementById("h8").innerText;
        document.getElementById('mx477691508').value = document.getElementById("h9").innerText;
        document.getElementById('mx413249407').value = document.getElementById("h10").innerText;
        document.getElementById('mx108900453').value = document.getElementById("h11").innerText;
        document.getElementById('mx1841236411').value = document.getElementById("h12").innerText;
        document.getElementById('mx1864644918').value = document.getElementById("h13").innerText;
        document.getElementById('mx1538428689').value = document.getElementById("h14").innerText;
        document.getElementById('mx1449918213').value = document.getElementById("h15").innerText;
        document.getElementById('mx38761817').value = document.getElementById("h16").innerText;
        document.getElementById('mx247392471').value = document.getElementById("h17").innerText;
        document.getElementById('mx741809181').value = document.getElementById("h18").innerText;
        document.getElementById('mx1362729237').value = document.getElementById("p1").innerText;
        document.getElementById('mx1372983908').value = document.getElementById("p2").innerText;
        document.getElementById('mx2002196917').value = document.getElementById("p3").innerText;
        document.getElementById('mx640802794').value = document.getElementById("p4").innerText;
        document.getElementById('mx2076656246').value = document.getElementById("p5").innerText;
        document.getElementById('mx486346919').value = document.getElementById("p6").innerText;
        document.getElementById('mx1918313229').value = document.getElementById("p7").innerText;
        document.getElementById('mx638821').value = document.getElementById("p8").innerText;
        document.getElementById('mx737099688').value = document.getElementById("p9").innerText;
        document.getElementById('mx488827232').value = document.getElementById("p10").innerText;
        document.getElementById('mx1203421487').value = document.getElementById("p11").innerText;
        document.getElementById('mx979421831').value = document.getElementById("p12").innerText;
        document.getElementById('mx929858153').value = document.getElementById("p13").innerText;
        document.getElementById('mx1330487443').value = document.getElementById("p14").innerText;
        document.getElementById('mx940496448').value = document.getElementById("p15").innerText;
        document.getElementById('mx1127168348').value = document.getElementById("p16").innerText;
        document.getElementById('mx638332104').value = document.getElementById("p17").innerText;
        document.getElementById('mx1626319908').value = document.getElementById("p18").innerText;
        document.getElementById('mx362674948').value = document.getElementById("pfront").innerText;
        document.getElementById('mx544180710').value = document.getElementById("pback").innerText;
        document.getElementById('mx893562950').value = document.getElementById("ptotal").innerText;
        //document.getElementById('mx335596501').value = document.getElementById("cback9");
        document.getElementById('mx335596501').value = document.getElementById("pback").innerText;
        tempcb6 = 0;
        tempcb6 += parseInt(document.getElementById("p18").innerText);
        tempcb6 += parseInt(document.getElementById("p17").innerText);
        tempcb6 += parseInt(document.getElementById("p16").innerText);
        tempcb6 += parseInt(document.getElementById("p15").innerText);
        tempcb6 += parseInt(document.getElementById("p14").innerText);
        tempcb6 += parseInt(document.getElementById("p13").innerText);
        tempcb3 = 0;
        tempcb3 += parseInt(document.getElementById("p18").innerText);
        tempcb3 += parseInt(document.getElementById("p17").innerText);
        tempcb3 += parseInt(document.getElementById("p16").innerText);
        document.getElementById('mx1453506389').value = tempcb6;
        document.getElementById('mx1045870519').value = tempcb3;
        document.getElementById('mx683300283').value = document.getElementById("p18").innerText;
        //temp2 = 0;
        twoscount = 0;
        // check data is complete 
        checkBeforeSubmitID = "\n";
        err = "no";
        for (ii = 1; ii <= 18; ii++) {
          if (document.getElementById("h" + ii).innerText == "2") {
            twoscount++;
          }
          //if("12345678910".indexOf(document.getElementById("h" + ii).innerText) == -1) {
          //	checkBeforeSubmit++;
          //	checkBeforeSubmitID += "hole " + ii + "\n";
          //}
          // check for no score entered
          if (document.getElementById("numscore" + ii).innerText.indexOf("hole") > -1) {
            if (checkBeforeSubmitID.length < 50) {
              checkBeforeSubmitID += "hole " + ii + " not scored\n";
              err = "yes";
            }
          }
        }
        document.getElementById('mx967906330').value = twoscount.toString();
        document.getElementById('mx789190149').value = comp + player;

        if (player == "select player") {
          checkBeforeSubmitID += "player not set\n"
          err = "yes";
        }
        if (hcp == "hcp") {
          checkBeforeSubmitID += "hcp not set\n"
          err = "yes";
        }

        if (err == "yes") {
          // error message
          checkBeforeSubmitID = checkBeforeSubmitID + "\n... maybe more.\n";
          showIncompleteSubmitData(checkBeforeSubmitID);
        } else {
          //===== submit data

          document.forms[0].submit();

          // hide icons to allow tick etc.
          document.getElementById('limg').style.visibility = "hidden";
          document.getElementById('rimg').style.visibility = "hidden";
          document.getElementById('mimgl').style.visibility = "hidden";
          document.getElementById('mimgr').style.visibility = "hidden";
          // hide button
    //      var slideSource = document.getElementById('submitwrapper');
         
        
        
        
        
        
        
        
        
         
         
          document.getElementById("submitwrapper").style.visibility = "visible";
        
        
        
        
        
        
        
         
         
         
         
     //    slideSource.classList.toggle('fade');











          // allow some time for submit then give a completion message
          // keep user interested by changing colors ???

          // show sending icon
          //setTimeout(function() {

          if (document.getElementById("setup").style.backgroundColor == "black") {
            document.getElementById('submitwrapper').style.borderColor = "black";
            document.getElementById('submitwrapper').style.background = "black";
          } else {
            document.getElementById('submitwrapper').style.borderColor = "indigo";
            document.getElementById('submitwrapper').style.background = "indigo";
          }
          
          
          
          
          
          document.getElementById('submittxt').innerText = "";
          // show empty text which is placeholder for image
  //        slideSource.classList.toggle('fade');

          document.getElementById('submittxt').innerHTML =
            '<img src="uploada.png" style="height: 100px; width: 100px;">'
            //}, 500);

          setTimeout(function() {
            document.getElementById('submittxt').innerHTML =
              '<img src="tick1.png" style="height: 100px; width: 100px;">'
          }, 6500);

          // return to main menu
          setTimeout(function() {
            window.location.assign("winter2023.html");
          }, 7500);
        }
      }
    }
    // + button for HCP
    function incrementHcp(id) {
      incScore = document.getElementById(id).innerText;
      //	if(incScore.indexOf("hcp") > -1) {
      if (incScore == "hcp" || incScore == "") {
        document.getElementById(id).style.fontSize = "50px";
        document.getElementById(id).style.paddingTop = 0;
        incScore = 0;
      }
      document.getElementById(id).innerText = ++incScore;
      hcp = incScore;
      //=====LocalStorage.hcp=====
      localStorage.hcp = hcp;
      //==========================
      recalcScores();
    }
    // + button for hole scores
    function incrementScore(id) {
      incScore = document.getElementById(id).innerText;
      if (incScore.indexOf("hole") > -1) {
        document.getElementById(id).style.fontSize = "50px";
        document.getElementById(id).style.paddingTop = 0;
        incScore = 0;
      }
      document.getElementById(id).innerText = ++incScore;
      document.getElementById(id.replace("numscore", "h")).innerText = incScore;
      //console.log("course from increment = " + course)
      //console.log("course from localstorage = " + localStorage.course)
      if (course == "Lakes") {
        par = arrLakes[id.replace("numscore", "")][1];
        si = arrLakes[id.replace("numscore", "")][2];
      }
      if (course == "Dawson") {
        par = arrDawson[id.replace("numscore", "")][1];
        si = arrDawson[id.replace("numscore", "")][2];
      }
      if (course == "OldCourse") {
        par = arrOldCourse[id.replace("numscore", "")][1];
        si = arrOldCourse[id.replace("numscore", "")][2];
      }
      document.getElementById(id.replace("numscore", "p")).innerText = pointsCalc(hcp, par, si, incScore);
      totalScore();
      // update local storage
      //=====LocalStorage.holes===========================================
      localStorage.setItem("hole" + id.replace("numscore", ""), incScore);
      //==================================================================
    }
    // - button for HCP
    function decrementHcp(id) {
      incScore = document.getElementById(id).innerText;
      // if already at 0 say what it is
      if (incScore == 0) {
        document.getElementById(id).style.fontSize = "15px";
        document.getElementById(id).style.paddingTop = "20px";
        holenum = id.replace("numscore", "");
        document.getElementById(id).innerText = "hcp";
      } else {
        if (incScore.indexOf("hcp") > -1) {
          document.getElementById(id).style.fontSize = "50px";
          document.getElementById(id).style.paddingTop = 0;
          incScore = 0;
        }
        if (incScore > 0) {
          --incScore;
        }
        document.getElementById(id).innerText = incScore;
      }
      hcp = incScore;
      //=====LocalStorage.hcp=====
      localStorage.hcp = hcp;
      //==========================
      recalcScores();
    }
    // - button for scores
    function decrementScore(id) {
      incScore = document.getElementById(id).innerText;
      // if already at 0 say what hole it is
      if (incScore == 0) {
        document.getElementById(id).style.fontSize = "15px";
        document.getElementById(id).style.paddingTop = "20px";
        holenum = id.replace("numscore", "");
        document.getElementById(id).innerText = "hole " + holenum;
      } else {
        if (incScore.indexOf("hole") > -1) {
          document.getElementById(id).style.fontSize = "50px";
          document.getElementById(id).style.paddingTop = 0;
          incScore = 0;
        }
        if (incScore > 0) {
          --incScore;
        }
        document.getElementById(id).innerText = incScore;
        document.getElementById(id.replace("numscore", "h")).innerText = incScore;
        if (course == "Lakes") {
          par = arrLakes[id.replace("numscore", "")][1];
          si = arrLakes[id.replace("numscore", "")][2];
        }
        if (course == "Dawson") {
          par = arrDawson[id.replace("numscore", "")][1];
          si = arrDawson[id.replace("numscore", "")][2];
        }
        if (course == "OldCourse") {
          par = arrOldCourse[id.replace("numscore", "")][1];
          si = arrOldCourse[id.replace("numscore", "")][2];
        }
        document.getElementById(id.replace("numscore", "p")).innerText = pointsCalc(hcp, par, si, incScore);
      }
      totalScore();
      // update local storage
      // if incScore = "hole 1" etc., remove key from localStorage
      if (document.getElementById(id).innerText.indexOf("hole") > -1) {
        localStorage.removeItem("hole" + id.replace("numscore", ""));
      } else {
        //=====LocalStorage.holes===========================================
        localStorage.setItem("hole" + id.replace("numscore", ""), incScore);
        //==================================================================
      }
    }
    // calculated additional totals, countback etc.
    function totalScore() {
      var ih = 0;
      var ip = 0;
      var c6 = 0;
      var c3 = 0;
      var c1 = 0;
      var cb = 0;
      var jh = 0;
      var jp = 0;
      for (i = 1; i <= 9; i++) {
        ih += parseInt(document.getElementById("h" + i).innerText);
        ip += parseInt(document.getElementById("p" + i).innerText);
      }
      for (j = 10; j <= 18; j++) {
        jh += parseInt(document.getElementById("h" + j).innerText);
        jp += parseInt(document.getElementById("p" + j).innerText);
        if (j >= 13) {
          c6 = c6 + parseInt(document.getElementById("p" + j).innerText);
        }
        if (j >= 16) {
          c3 = c3 + parseInt(document.getElementById("p" + j).innerText);
        }
        if (j == 18) {
          c1 = parseInt(document.getElementById("p" + j).innerText);
        }
      }
      document.getElementById("hfront").innerText = ih;
      document.getElementById("hback").innerText = jh;
      document.getElementById("pfront").innerText = ip;
      document.getElementById("pback").innerText = jp;
      document.getElementById("htotal").innerText = ih + jh;
      document.getElementById("ptotal").innerText = ip + jp;
      cb = "9=" + jp + ", 6=" + c6 + ", 3=" + c3 + ", 1=" + c1;
      document.getElementById("cback").innerText = cb;
    }
    // convert scores to stableford points
    function pointsCalc(hcp, par, si, score) {
      allowance = 0;
      if (score == 0) {
        return 0;
      } else {
        // allowance   
        if (hcp >= si) {
          allowance = 1;
        }
        if (hcp >= (18 + si)) {
          allowance = 2;
        }
        if (hcp >= (36 + si)) {
          allowance = 3;
        }
        // points
        var points = (par + allowance + 2) - score;
        // remove negative numbers
        if (points < 0) {
          points = 0;
        }
        //console.log("score = " + score)
        //console.log("si = " + si)
        //console.log("par = " + par)
        //console.log("hcp = " + hcp)
        return points;
      }
    }
    // papaparse uses HTML5's filereader API to get csv file
    function doGetHCP() {
      // show hcp and controls on screen
      document.getElementById("hcpwrapper").style.visibility = "visible";
      // changed to change hcp on any player change
      //		if(document.getElementById("numhcp").innerText == "?") {
      document.getElementById("numhcp").innerHTML = '<img src="throbber.gif" width=50 height=48>'
      document.getElementById("numhcp").style.paddingTop = "5px";
      document.getElementById("numhcp").style.paddingBottom = "5px";
      var public_hcp_url = "https://docs.google.com/spreadsheets/d/e/2PACX-1vT1rILUJ0CUKUSby7WwizLYoQQChEqOz5ZBTu3jNejKr-M5OwynuTKgrCurmkwi1D0UILF17BuhR15k/pub?gid=836261355&single=true&output=csv";
      strng2 = "?";
      try {
        // if it fails after 20 seconds, put up error message
        setTimeout(function() {
          if (!(Math.trunc(strng2) > 0)) {
            showMessageRetryHCPFailed();
          }
        }, 20000);
        Papa.parse(public_hcp_url, {
          download: true,
          header: true,
          step: function(results, parser) {
            if (results.data.player.indexOf(player) > -1) {
              strng2 = results.data.hcp;
              //console.log("Row data:", results.data.player);
              //console.log("Row data:", results.data.hcp);
              parser.abort;
            }
          },
          complete: function() {
            //console.log("completed");
            if (Math.trunc(strng2) > 0) {
              document.getElementById("numhcp").innerHTML = "";
              document.getElementById("numhcp").style.fontSize = "50px";
              document.getElementById("numhcp").style.paddingTop = 0;
              document.getElementById("numhcp").style.paddingBottom = 0;
              document.getElementById("numhcp").innerText = Math.trunc(strng2);
              // update global hcp
              hcp = Math.trunc(strng2);
              //=====LocalStorage.hcp=====
              localStorage.hcp = hcp;
              //==========================
              // recalc scores to cope with any new lookup
              recalcScores();
            }
          }
        });
      } // end try
      catch (err) {
        console.log(err.message);
        //console.log("bryan error");
      }

      //		} // if ended

      // change to swipe icon
      //document.getElementById("swiperight").innerHTML = '<img src="swiperightflash.png" alt="swipe" style="position: absolute; top: 6vh; right: 3vw; height: 85px; width: 85px;">';
    }
    // redo score/points calculations for 18 holes
    function recalcScores() {
      for (i = 1; i <= 18; i++) {
        tempscore = document.getElementById("numscore" + i).innerText;
        if (tempscore.indexOf("hole") > -1) {
          tempscore = "0";
        }
        if (course == "Lakes") {
          temppar = arrLakes[i][1];
          tempsi = arrLakes[i][2];
        } 
        if (course == "Dawson") {
          temppar = arrDawson[i][1];
          tempsi = arrDawson[i][2];
        }
        if (course == "OldCourse") {
          temppar = arrOldCourse[i][1];
          tempsi = arrOldCourse[i][2];
        }
        temppoints = pointsCalc(hcp, temppar, tempsi, tempscore);
        document.getElementById("h" + i).innerText = tempscore;
        document.getElementById("p" + i).innerText = temppoints;
      }
      totalScore();
    }
    // switches to and from a high contrast mode
    function togglecontrast() {
      // toggle between normal and high contrast
      if (document.getElementById("plusscore1").style.color == "yellow") {
        // put back to normal
        for (i = 1; i <= 18; i++) {
          document.getElementById("plusscore" + i).style.color = "white";
          document.getElementById("plusscore" + i).style.fontWeight = "400";
          document.getElementById("minusscore" + i).style.color = "white";
          document.getElementById("minusscore" + i).style.fontWeight = "400";
          document.getElementById("numscore" + i).style.color = "white";
          document.getElementById("numscore" + i).style.fontWeight = "400";
          document.getElementById("tr" + i).style.background = "dodgerBlue";
        }
        document.getElementById("submitwrapper").style.background = "dodgerBlue";
        document.getElementById("submitwrapper").style.color = "white";
        document.getElementById("submitwrapper").style.fontWeight = "400";
        document.getElementById("dropbtn").style.background = "dodgerBlue";
        document.getElementById("dropbtn").style.color = "white";
        document.getElementById("dropbtn").style.fontWeight = "400";
        document.getElementById("numhcp").style.background = "dodgerBlue";
        document.getElementById("numhcp").style.color = "white";
        document.getElementById("numhcp").style.fontWeight = "400";
        document.getElementById("plushcpx").style.background = "dodgerBlue";
        document.getElementById("plushcpx").style.color = "white";
        document.getElementById("plushcpx").style.fontWeight = "400";
        document.getElementById("minushcpx").style.background = "dodgerBlue";
        document.getElementById("minushcpx").style.color = "white";
        document.getElementById("minushcpx").style.fontWeight = "400";
        document.getElementById("trhcp").style.background = "dodgerBlue";
        document.getElementById("setup").style.backgroundColor = "indigo";
      } else {
        // put into high contrast
        for (i = 1; i <= 18; i++) {
          document.getElementById("plusscore" + i).style.color = "yellow";
          document.getElementById("plusscore" + i).style.fontWeight = "700";
          document.getElementById("minusscore" + i).style.color = "yellow";
          document.getElementById("minusscore" + i).style.fontWeight = "700";
          document.getElementById("numscore" + i).style.color = "yellow";
          document.getElementById("numscore" + i).style.fontWeight = "700";
          document.getElementById("tr" + i).style.background = "midnightBlue";
        }
        document.getElementById("submitwrapper").style.background = "midnightBlue";
        document.getElementById("submitwrapper").style.color = "yellow";
        document.getElementById("submitwrapper").style.fontWeight = "700";
        document.getElementById("dropbtn").style.background = "midnightBlue";
        document.getElementById("dropbtn").style.color = "yellow";
        document.getElementById("dropbtn").style.fontWeight = "700";
        document.getElementById("numhcp").style.background = "midnightBlue";
        document.getElementById("numhcp").style.color = "yellow";
        document.getElementById("numhcp").style.fontWeight = "700";
        document.getElementById("plushcpx").style.background = "midnightBlue";
        document.getElementById("plushcpx").style.color = "yellow";
        document.getElementById("plushcpx").style.fontWeight = "700";
        document.getElementById("minushcpx").style.background = "midnightBlue";
        document.getElementById("minushcpx").style.color = "yellow";
        document.getElementById("minushcpx").style.fontWeight = "700";
        document.getElementById("trhcp").style.background = "midnightBlue";
        document.getElementById("setup").style.backgroundColor = "black";
      }
    }
    // retrieves locally saved temp data to allow integrity over refreshes
    function recoverFromLocalStorage() {
      // put other values back
      // player
      if (("player") in localStorage) {
        document.getElementById("dropbtn").innerText = localStorage.getItem("player");
      } else {
        document.getElementById("dropbtn").innerText = "select player";
      }
      player = document.getElementById("dropbtn").innerText;
      // hcp
      if (("hcp") in localStorage) {
        document.getElementById("numhcp").innerText = localStorage.getItem("hcp");
        document.getElementById("numhcp").style.fontSize = "50px";
        document.getElementById("numhcp").style.paddingTop = 0;
        // make hcp visible
        document.getElementById("hcpwrapper").style.visibility = "visible";
        // make submit visible
        document.getElementById("submitwrapper").style.visibility = "visible";
      } else {
        document.getElementById("numhcp").innerText = "?";
        //document.getElementById("numhcp").style.fontSize = "15px";
        //document.getElementById("numhcp").style.paddingTop = "20px";
      }
      hcp = document.getElementById("numhcp").innerText;
      if ("comp" in localStorage) {
        //=====LocalStorage.comp============
        comp = localStorage.getItem("comp");
        //==================================
      }
      if ("course" in localStorage) {
        //=====LocalStorage.course==============
        course = localStorage.getItem("course");
        //======================================
      }
      //	recalc points etc.
      for (var i = 1; i <= 18; i++) {
        // put values for holes back
        if (("hole" + i) in localStorage) {
          document.getElementById("numscore" + i).innerText = localStorage.getItem("hole" + i);
          document.getElementById("numscore" + i).style.fontSize = "50px";
          document.getElementById("numscore" + i).style.paddingTop = 0;
          document.getElementById("h" + i).innerText = localStorage.getItem("hole" + i);
        } else {
          // change to hole1 etc and change font size
          document.getElementById("h" + i).innerText = "0";
          document.getElementById("numscore" + i).innerText = "hole " + i;
          document.getElementById("numscore" + i).style.fontSize = "15px";
          document.getElementById("numscore" + i).style.paddingTop = "20px";
        }
      }
      for (var i = 1; i <= 18; i++) {
        // calc points
        if (course == "Lakes") {
          par = arrLakes[i][1];
          si = arrLakes[i][2];
        } 
        if (course == "Dawson") {
          par = arrDawson[i][1];
          si = arrDawson[i][2];
        }
        if (course == "OldCourse") {
          par = arrOldCourse[i][1];
          si = arrOldCourse[i][2];
        }
        if (("hole" + i) in localStorage) {
          document.getElementById("p" + i).innerText = pointsCalc(hcp, par, si, localStorage.getItem("hole" + i));
        } else {
          document.getElementById("p" + i).innerText = "0";
        }
      }
      totalScore();
    }
    // wipe local storage but not menu items
    function clearCache() {
      localStorage.removeItem("player");
      localStorage.removeItem("hcp");
      localStorage.removeItem("comp");
      localStorage.removeItem("course");
      for (var i = 1; i <= 18; i++) {
        localStorage.removeItem("hole" + i);
      }
      recoverFromLocalStorage();
      location.reload();
    }
    // set up Lakes as non competition day course
    function doSomethingLakes() {
      course = "Lakes";
      comp = course + " " + dateToday;
      document.getElementById("id_confrmdiv").style.display = "none";
      localStorage.course = course;
      localStorage.comp = comp;
    }
    // set up Dawson as non competition day course
    function doSomethingDawson() {
      course = "Dawson";
      comp = course + " " + dateToday;
      document.getElementById("id_confrmdiv").style.display = "none";
      localStorage.course = course;
      localStorage.comp = comp;
    }
    function doSomethingOldCourse() {
      course = "OldCourse";
      comp = course + " " + dateToday;
      document.getElementById("id_confrmdiv").style.display = "none";
      localStorage.course = course;
      localStorage.comp = comp;
    }
    // message saying what competition is being processed
    function showCompMessage() {
      if (compday == "yes") {
        document.getElementById("id_confrmdiv").innerText = "\nScoring for " + comp + "\ncompetition\n\n";
      } else {
        document.getElementById("id_confrmdiv").innerText = "\nScoring for " + comp + "\n(no competition)\n\n";
      }
      document.getElementById("id_confrmdiv").style.display = "block";
      setTimeout(function() {
        document.getElementById("id_confrmdiv").innerText = "";
        document.getElementById("id_confrmdiv").style.display = "none";
      }, 3000);
    }
    // message for non competition day denying submit
    function showNoSubmitMessage() {
      document.getElementById("id_confrmdiv").innerText = "\nSubmit for " + comp + "\n(no competition) is disabled.\n\n";
      document.getElementById("id_confrmdiv").style.display = "block";
      setTimeout(function() {
        document.getElementById("id_confrmdiv").innerText = "";
        document.getElementById("id_confrmdiv").style.display = "none";
      }, 3000);
    }
    // nessage not allowing submit because data is incomplete
    function showIncompleteSubmitData(msg) {
      document.getElementById("id_confrmdiv").innerText = "\nSubmit for " + comp + "\nfailed - incomplete data.\n" + msg + "\n\n";
      document.getElementById("id_confrmdiv").style.display = "block";
      setTimeout(function() {
        document.getElementById("id_confrmdiv").innerText = "";
        document.getElementById("id_confrmdiv").style.display = "none";
      }, 3000);
    }
    // message saying HCP lookup failed
    function showMessageRetryHCP() {
      document.getElementById("id_confrmdiv").innerText = "\nHCP lookup failed - retrying ...\n\n";
      document.getElementById("id_confrmdiv").style.display = "block";
      setTimeout(function() {
        document.getElementById("id_confrmdiv").innerText = "";
        document.getElementById("id_confrmdiv").style.display = "none";
        // put back hcp
        document.getElementById("numhcp").innerHTML = "";
        document.getElementById("numhcp").innerText = "?";
        //		document.getElementById("numhcp").style.fontSize = "15px";
        //		document.getElementById("numhcp").style.paddingTop = "20px";
      }, 3000);
    }
    // message saying HCP lookup failed
    function showMessageRetryHCPFailed() {
      document.getElementById("id_confrmdiv").innerText = "\nHCP lookup failed.\n\n" + "check the network and try again.\n\n";
      document.getElementById("id_confrmdiv").style.display = "block";
      setTimeout(function() {
        document.getElementById("id_confrmdiv").innerText = "";
        document.getElementById("id_confrmdiv").style.display = "none";
        // put back hcp
        document.getElementById("numhcp").innerHTML = "";
        document.getElementById("numhcp").innerText = "?";
        //document.getElementById("numhcp").style.fontSize = "15px";
        //document.getElementById("numhcp").style.paddingTop = "20px";
      }, 3000);
    }
    // choose course dialog for non competition day
    function showCourseChoice() {
      tempt = '<br /> No competition today. Select which course to use.';
      tempt += '<br /><br />';
      tempt += '<button id="id_lakesbtn" onclick="doSomethingLakes()">Lakes</button>';
      tempt += '<button id="id_dawsonbtn" onclick="doSomethingDawson()">Dawson</button>';
      tempt += '<button id="id_oldcoursebtn" onclick="doSomethingOldCourse()">OldCourse</button>';
      document.getElementById("id_confrmdiv").innerHTML = tempt;
      //console.log(document.getElementById("id_confrmdiv").innerHTML);
      document.getElementById("id_confrmdiv").style.display = "block";
    }
    // show hole number when hole score pressed
    // show hole number when hole score pressed
    function showHole(id) {
      tempe = document.getElementById(id);
      tempsaved = tempe.innerText;

      // only do it if number is obscuring hole number
      if (tempsaved.indexOf("hole") == -1) {
        // change to hole1 etc and change font size
        tempe.innerText = id.replace("numscore", "hole ");
        tempe.style.fontSize = "15px";
        tempe.style.paddingTop = "20px";
        tempe.style.fontWeight = "bold";
        tempe.style.color = "lime";
        // disable click
        for (var i = 1; i <= 18; i++) {
          document.getElementById("numscore" + i).style.pointerEvents = 'none';
        }

        // put info back
        setTimeout(function() {
          // re-enable click
          for (var i = 1; i <= 18; i++) {
            document.getElementById("numscore" + i).style.pointerEvents = '';
          }
          tempe.style.fontSize = "50px";
          tempe.style.paddingTop = 0;
          tempe.style.fontWeight = "normal";
          tempe.style.color = "white";
          tempe.innerText = tempsaved;
        }, 500);
      }

    }
    // show message when no player has been set
    function showSetPlayerMessage() {
      document.getElementById("id_confrmdiv").innerText = "\nPlayer and HCP have not been set, do this before entering scores.\n\n";
      document.getElementById("id_confrmdiv").style.display = "block";

      // hide submit button
      document.getElementById("submitwrapper").style.visibility = "hidden";

      setTimeout(function() {
        document.getElementById("id_confrmdiv").innerText = "";
        document.getElementById("id_confrmdiv").style.display = "none";
      }, 3000);
    }

    function ccclose() {
      document.getElementById("showcoursecard").style.visibility = "hidden";
    }

    function showcoursecard() {
    // show msg if not available
    abort = "no";
    aborttxt = "\nStrokes unavailable\nbecause:\n\n";

    if (!(hcp > 0)) {
       abort = "yes";
       aborttxt += "\nhcp not found\n"
    }
    if (player == "select player") {
       abort = "yes"
       aborttxt += "\nplayer not found\n"
    }
    if (!(course == "Lakes" || course == "Dawson" || course == "OldCourse")) {
       abort = "yes"
       aborttxt += "\ncourse not found\n"
    }
    
    if (abort == "yes") {
    
      document.getElementById("id_confrmdiv").innerText = aborttxt + "\n\nthis message closes in 5 seconds";
      document.getElementById("id_confrmdiv").style.display = "block";

    
     setTimeout(function() {document.getElementById("id_confrmdiv").innerText = aborttxt + "\n\nthis message closes in 4 seconds" },1000)    
   setTimeout(function() {document.getElementById("id_confrmdiv").innerText = aborttxt + "\n\nthis message closes in 3 seconds" },2000)
   setTimeout(function() {document.getElementById("id_confrmdiv").innerText = aborttxt + "\n\nthis message closes in 2 seconds" },3000)
   setTimeout(function() {document.getElementById("id_confrmdiv").innerText = aborttxt + "\n\nthis message closes in 1 second" },4000) 
 
   setTimeout(function() {    
      document.getElementById("id_confrmdiv").innerText = ""
      document.getElementById("id_confrmdiv").style.display = "none"
   },5000);
    
    } else {
    
      cctxt = ""
      if (course == "Lakes") {
        cctxt = player + ", Lakes, " + hcp + " hcp"
        for (var i = 1; i <= 18; i++) {
             if (hcp >= (arrLakes[i][2] + 18)) {
                 cctxt += '<span class="cyanhole"><b><br>hole ' + arrLakes[i][0] + ", par " + arrLakes[i][1] +
                 ", si " + '<span class="circle2">' + arrLakes[i][2] + "</span></b></span>"
             } else {
                 if (hcp >= arrLakes[i][2]) {
                     cctxt += "<b><br>hole " + arrLakes[i][0] + ", par " + arrLakes[i][1] + ", si " +
                              '<span class="circle1">' + arrLakes[i][2] + "</span></b>"
                 } else {
                     cctxt += '<span class="nocircle1">' + "<br>hole " + arrLakes[i][0] + ", par " + 
                              arrLakes[i][1] + ", si  " + arrLakes[i][2] + "</span>"
                 }
            } 
        }
      }  
      
      if (course == "Dawson") {
        cctxt = player + ", Dawson, " + hcp + " hcp"
        for (var i = 1; i <= 18; i++) {
             if (hcp >= (arrDawson[i][2] + 18)) {
                 cctxt += '<span class="cyanhole"><b><br>hole ' + arrDawson[i][0] + ", par " + arrDawson[i][1] +
                 ", si " + '<span class="circle2">' + arrDawson[i][2] + "</span></b></span>"
             } else {
                 if (hcp >= arrDawson[i][2]) {
                     cctxt += "<b><br>hole " + arrDawson[i][0] + ", par " + arrDawson[i][1] + ", si " +
                              '<span class="circle1">' + arrDawson[i][2] + "</span></b>"
                 } else {
                     cctxt += '<span class="nocircle1">' + "<br>hole " + arrDawson[i][0] + ", par " + 
                              arrDawson[i][1] + ", si  " + arrDawson[i][2] + "</span>"
                 }
            } 
        }
      }
      
      if (course == "OldCourse") {
        cctxt = player + ", OldCourse, " + hcp + " hcp"
        for (var i = 1; i <= 18; i++) {
             if (hcp >= (arrOldCourse[i][2] + 18)) {
                 cctxt += '<span class="cyanhole"><b><br>hole ' + arrOldCourse[i][0] + ", par " + arrOldCourse[i][1] +
                 ", si " + '<span class="circle2">' + arrOldCourse[i][2] + "</span></b></span>"
             } else {
                 if (hcp >= arrOldCourse[i][2]) {
                     cctxt += "<b><br>hole " + arrOldCourse[i][0] + ", par " + arrOldCourse[i][1] + ", si " +
                              '<span class="circle1">' + arrOldCourse[i][2] + "</span></b>"
                 } else {
                     cctxt += '<span class="nocircle1">' + "<br>hole " + arrOldCourse[i][0] + ", par " + 
                              arrOldCourse[i][1] + ", si  " + arrOldCourse[i][2] + "</span>"
                 }
            } 
        }
      }
        
     }
      
      cctxt += "<br>"    
      cctxt += "<br> . . . tap to close."
      cctxt += "<br><br><br><br>"
      
      document.getElementById("showcoursecard").innerHTML = cctxt;
      document.getElementById("showcoursecard").style.visibility = "visible";
    }










 function rclose() {
      document.getElementById("showrules").style.visibility = "hidden";
    }



 function showrules() {
 
 const d = new Date();
 var month = d.getMonth();
 //rules from email 25th September
var rulestxt = '<span class="cyanhole"><b>From Oct 1st to Oct 31st inclusive</b><br></b></span>' 
rulestxt += '<br>'
rulestxt += '1. Preferred lies on Fairway and Fringes of Greens (Mark your ball, lift clean and place within 6 inches. No nearer the hole)<br><br>'
rulestxt += '2. Semi Rough (Mark your ball, lift Clean and Replace)<br><br>'
rulestxt += '3. Rough (Play the ball as it lies)<br><br>'
rulestxt += '4. Casual Water (Nearest point of relief no nearer the hole) 1 club length from that point, drop the ball. If your ball is in the rough and in casual water, nearest point of relief no nearer the hole, one club length from that point, drop the ball. The ball may be cleaned if taking relief from casual water in the rough.<br><br>'

rulestxt += '<span class="cyanhole"><b>November 1st to 31st March 2024</b><br></b></span>' 
rulestxt += '<br>'

rulestxt += 'As above with additions'
rulestxt += '<br><br>'
rulestxt += "1. The Seniors Section will be keeping all Par 5's as Par 5's."
rulestxt += '<br><br>'
rulestxt += "2. Bounce boards, mats and tees may be used on Fairways and Fringes of Greens. These are not to be used in 'Semi Rough' or 'Rough Areas'."
rulestxt += '<br><br>'
rulestxt += '3. Semi rough will be lift clean and replace. Rough will be (play as it lies)'
rulestxt += '<br><br>'
rulestxt += '4. Drivers are not to be used on bounce boards, mats or tees after the initial tee shot, they can, however, be used from the grass.'
rulestxt += '<br><br>'
rulestxt += "5. Bunkers will be 'pick rake and place' Unless otherwise stated on the whiteboard at registration."
   
  
rulestxt += "<br><br>"    
rulestxt += "<br> . . . tap to close."
rulestxt += "<br><br><br><br>"
    
document.getElementById("showrules").innerHTML = rulestxt;
document.getElementById("showrules").style.visibility = "visible";
 
}


  </script>
</body>

</html>

